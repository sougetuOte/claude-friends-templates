# During-Task チェックリスト

## 目的
タスク実行中の品質維持と進捗管理を行い、TDDサイクルを確実に実践する。

## チェック項目

### 1. TDDサイクル遵守
- [ ] 🔴 Red: 失敗するテストを書いた
- [ ] テストが期待通りの理由で失敗している
- [ ] 🟢 Green: 最小限の実装でテストが通った
- [ ] 🔵 Refactor: コード品質を向上させた
- [ ] 各フェーズでコミットを実施した

### 2. コード品質
- [ ] 既存のコーディング規約に従っている
- [ ] 適切な変数名・関数名を使用している
- [ ] 必要なコメントとドキュメントを追加した
- [ ] エラーハンドリングを実装した

### 3. テスト品質
- [ ] 正常系のテストケースを網羅した
- [ ] 異常系・エラーケースをテストした
- [ ] 境界値テストを実施した
- [ ] テストの可読性と保守性を確保した

### 4. 進捗管理
- [ ] タイムボックス内で作業している
- [ ] 定期的にbuilder/notes.mdを更新している
- [ ] ブロッカーが発生したら即座に記録した
- [ ] タスクステータスを適切に更新している（🔴→🟢→✅）

### 5. セキュリティとパフォーマンス
- [ ] セキュリティのベストプラクティスに従っている
- [ ] パフォーマンスへの影響を考慮した
- [ ] 機密情報をハードコードしていない
- [ ] 必要に応じてパフォーマンステストを実施した

### 6. 継続的な検証
- [ ] 既存のテストが全て通っている
- [ ] linterの警告を解決した
- [ ] 型チェック（該当する場合）が通っている
- [ ] 手動テストで動作を確認した

## リアルタイムチェック例

```markdown
## 現在のタスク: API認証ミドルウェア 🟢

### TDDサイクル状況
- ✅ Red: トークン検証テストが失敗 (10:15)
- ✅ Green: JWT検証ロジック実装 (10:45)
- ⏳ Refactor: エラーメッセージの改善中

### 品質チェック
- ✅ ESLint警告: 0
- ✅ テストカバレッジ: 85%
- ⚠️ TODO: レート制限の実装

### ブロッカー
- なし（順調に進行中）
```

## 警告サイン

以下の状況が発生したら一時停止して再評価：
- テストなしで30分以上実装している
- 同じエラーで3回以上失敗している
- 当初の設計から大きく逸脱している
- パフォーマンスが著しく低下している

## エスカレーション基準

### Plannerへの相談が必要な場合
- 設計の大幅な変更が必要
- スコープの拡大が必要
- 新たな依存関係が発生

### ⚠️ ブロック状態への移行
- 3回の試行後も解決できない
- 外部要因で進行不可能
- 技術的に実現不可能と判明

## 次のステップ
タスクが完了（✅）またはブロック（⚠️）になったら、Post-Taskチェックリストへ進む。
→ `post-task-checklist.md`を参照
