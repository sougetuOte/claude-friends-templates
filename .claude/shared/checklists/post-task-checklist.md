# Post-Task チェックリスト

## 目的
タスク完了後の品質保証と知識の共有を行い、次のタスクへスムーズに移行する。

## チェック項目

### 1. 完了確認
- [ ] すべてのテストが通っている（グリーン）
- [ ] コードカバレッジが目標値（80%以上）を達成している
- [ ] 定義された成功基準（Definition of Done）を満たしている
- [ ] タスクステータスが適切（✅ or ⚠️）に更新されている

### 2. コード品質の最終確認
- [ ] コードレビューモードで自己レビューを実施した
- [ ] リファクタリングの機会を検討した
- [ ] 不要なコメントやデバッグコードを削除した
- [ ] TODOコメントを適切に処理した

### 3. ドキュメント更新
- [ ] 関数・クラスのドキュメントを追加/更新した
- [ ] READMEや設計ドキュメントを必要に応じて更新した
- [ ] APIドキュメント（該当する場合）を更新した
- [ ] 重要な決定事項をhistory.mdに記録した

### 4. Git管理
- [ ] 意味のある単位でコミットした
- [ ] コミットメッセージが規約に従っている
- [ ] 不要なファイルがコミットされていない
- [ ] ブランチがクリーンな状態である

### 5. 引き継ぎ準備
- [ ] builder/notes.mdに完了内容を記録した
- [ ] handover.mdを作成した（エージェント切り替え時）
- [ ] phase-todo.mdを更新した
- [ ] 次のタスクへの影響を記載した

### 6. 学習と改善
- [ ] 新しく学んだ技術や手法を記録した
- [ ] 遭遇した問題と解決策を記録した
- [ ] プロセスの改善点を特定した
- [ ] 技術的負債が発生した場合はdebt.mdに記録した

## 完了レポート例

```markdown
## タスク完了: ユーザー認証機能 ✅

### 完了日時: 2025-07-21 14:30
### 所要時間: 4.5時間（見積もり: 5時間）

### 成果物
- `/src/auth/jwt-service.js` - JWT処理サービス
- `/src/middleware/auth.js` - 認証ミドルウェア
- `/tests/auth/` - 包括的なテストスイート
- カバレッジ: 92%

### 主な決定事項
- JWT有効期限を24時間に設定（要件通り）
- リフレッシュトークンは別タスクで実装予定

### 学習事項
- JWT検証のベストプラクティス
- Express.jsでのミドルウェアテスト手法

### 次タスクへの申し送り
- リフレッシュトークン実装時は現在のjwt-serviceを拡張
- レート制限は別途検討が必要
```

## ブロック時の記録

```markdown
## タスク中断: 外部API連携 ⚠️

### ブロック日時: 2025-07-21 16:00
### 作業時間: 2時間

### ブロック理由
外部APIの仕様書と実際の動作が異なる

### 試行した内容
1. 公式ドキュメントに従った実装 → 401エラー
2. サンプルコードの確認 → 古いバージョン
3. サポートへの問い合わせ → 返答待ち

### 部分的な成果
- APIクライアントの基本構造は完成
- モックを使用したテストは作成済み

### 推奨アクション
- Plannerと相談して代替案を検討
- APIプロバイダーからの返答を待つ
```

## 最終チェック

### ✅ 完了の場合
1. 次のタスクをphase-todo.mdから選択
2. Pre-Taskチェックリストから開始

### ⚠️ ブロックの場合
1. Plannerへエスカレーション
2. 代替タスクの検討
3. ブロック解除の条件を明確化

## アーカイブ
- 1週間経過したhandover.mdはarchiveフォルダへ移動
- 完了したタスクの詳細はhistory.mdへ記録
- 重要な学習事項は永続的に保存

---
*品質は急がば回れ。確実な完了確認が次の成功につながる。*