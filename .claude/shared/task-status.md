# タスクステータス管理システム

## 概要
claude-kiro-templateの優れたTDDタスク管理手法を取り入れた、タスクステータス管理システムです。
各タスクの状態を視覚的に管理し、TDDサイクルと連動させます。

## タスクステータス定義

### 🔴 Not Implemented（未実装）
- **意味**: まだ着手していないタスク
- **次のアクション**: テストを書くことから開始（TDD Red Phase）
- **Builderの行動**: 
  1. 失敗するテストを先に書く
  2. テストが正しく失敗することを確認
  3. 実装に着手

### 🟢 Minimally Implemented（最小実装）
- **意味**: テストが通る最小限の実装が完了
- **次のアクション**: リファクタリングの検討
- **Builderの行動**:
  1. すべてのテストが通ることを確認
  2. コードの品質を評価
  3. リファクタリングが必要か判断

### ✅ Refactored（リファクタリング済）
- **意味**: 品質基準を満たし、リファクタリングも完了
- **次のアクション**: 次のタスクへ移行
- **Builderの行動**:
  1. コードレビューモードで最終確認
  2. ドキュメントの更新
  3. phase-todo.mdでタスク完了を記録

### ⚠️ Blocked（ブロック中）
- **意味**: 何らかの理由で進行が停止
- **次のアクション**: ブロック要因の解決または別タスクへ
- **Builderの行動**:
  1. ブロック理由を明確に記録
  2. 試行した解決策を文書化
  3. Plannerへエスカレーションを検討

## 使用方法

### 1. タスク開始時
```markdown
## 現在のタスク: [タスク名] 🔴
開始日時: YYYY-MM-DD HH:MM
```

### 2. テスト作成完了時
```markdown
## 現在のタスク: [タスク名] 🔴→🟢
テスト作成: ✓
実装開始: YYYY-MM-DD HH:MM
```

### 3. 最小実装完了時
```markdown
## 現在のタスク: [タスク名] 🟢
テスト: すべて通過
次: リファクタリング検討
```

### 4. リファクタリング完了時
```markdown
## 現在のタスク: [タスク名] ✅
完了日時: YYYY-MM-DD HH:MM
成果物: [ファイル名/機能名]
```

### 5. ブロック発生時
```markdown
## 現在のタスク: [タスク名] ⚠️
ブロック理由: [詳細]
試行した解決策:
1. [試行1]
2. [試行2]
次の対応: [Plannerへエスカレーション/別タスクへ移行]
```

## phase-todo.mdとの連携

phase-todo.mdでの表記例：
```markdown
### Phase 2: 実装フェーズ
- [ ] ユーザー認証機能 🔴
- [ ] データベース接続 🟢
- [x] 基本的なルーティング ✅
- [ ] エラーハンドリング ⚠️ (外部API仕様待ち)
```

## TDDサイクルとの統合

### Red Phase（🔴）
- 失敗するテストを書く
- テストが期待通り失敗することを確認
- タスクステータスは🔴のまま

### Green Phase（🔴→🟢）
- 最小限の実装でテストを通す
- ベタ書きでもOK（例: `return 42`）
- テストが通ったらステータスを🟢へ

### Refactor Phase（🟢→✅）
- コードの品質を向上
- テストが通る状態を維持
- 完了したらステータスを✅へ

## 注意事項

- ステータスの更新は必ずリアルタイムで行う
- ブロック状態⚠️は3回の試行後に設定
- 各ステータス変更時はbuilder/notes.mdにも記録
- Plannerとの連携時はhandover.mdに状態を明記